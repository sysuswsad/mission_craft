# mission_craft
## 项目名称
mission craft / 任务工坊 / 任务飞船？

## 项目基本要求
**挣闲钱** 

挣闲钱是大学生通过做任务挣钱的云平台，它属于以运营为中心的服务软件，也可以理解为面向大学生的专业“众包”系统。系统非常简单：有一个云服务中心，其业务在不断完善中；每个学生都装有“挣闲钱”客户端；一些机构，称为“奶牛”，他们提供任务给平台。基本业务是，奶牛发布任务要求与薪酬，系统推送到客户端，学生完成任务可获得系统内部的“闲钱币”，“闲钱币”可用于发布任务或提现。系统不支持零元交易。

挣闲钱系统包括是学生管理系统、任务管理系统、交易管理系统、账户管理系统等，特别合适采用面向服务的架构实现。系统的难点在于运营，即任务（业务）的发现与投放。以下一些场景供你思考：

基本假设：所有学生通过邮箱/手机登陆；学生注册的学号、姓名、年龄、性别、年级、专业等信息是真实的。学生平时使用昵称、头像在社区中活动，可以自由组成兴趣组，根据个人兴趣组进行任务的优先推荐。机构信息都是真实有效的。

可以考虑的任务场景：
* 机构组织问卷调查。如学生会针对大二的女生就某个问题开展调查，共300份，符合条件学生完成调查就可得到一元闲钱。
* 协会招新通知。如某协会正对计算机大一新生征集简历，填写提交简历可得到0.01元闲钱。
* 取快递。如某学生出 0.5 元闲钱请同专业同年级取快递。

项目基本要求：**系统必须支持问卷调查业务，至少一项其他业务。**
<<<<<<< HEAD
=======



<br>

## 第一次会议 2019-04-03

### 会议人员

全员参与

### 会议内容

- [需求讨论](#需求分析)
- [实现技术确定](#实现技术)
- [产品功能讨论](#产品功能)
- [阶段分工](#任务看板更新（第一次会议）)

### 需求分析

我们小组进行了[问卷调查、竞品分析](https://sysuswsad.github.io/mission_craft/Investigation.html)等手段对众包平台需求情况进行了调研

- 从[问卷](https://www.wenjuan.com/s/ABNje2D/)调查（面向校内学生）的结果中我们了解到
  - 用户们更加偏爱功能简洁，界面美观的软件产品（我们的软件将致力达到这一目标）
  - 校内学生们对于快递代取、问卷帮填、租借体育用具等需求迫切，并且愿意为满足这些需求支付一定的报酬
    - 很多时候同学们会因为需要上课而无法及时领取快递
    - 很多同学领取了红包却不认真填写问卷甚至不填写问卷
    - 每学期都需要选修体育课，而一旦选修了不同的体育课，体育用品需要自行购买，但是往往只需要使用一个学期，购买新的体育用具不划算，更希望能够暂时租赁使用
  - 现行的软件众包平台不够规范，虚拟货币提现困难，使用收益率低，用户挣闲钱的需求根本无法满足，导致用户对于软件众包平台信心不足，进而不愿意相信这类平台，导致平台推广难度很大，了解众包平台的人也较少

- 而从竞品分析的结果中，我们得知目前国内市场上挣闲钱的任务应用有一些，各个应用都有一定的用户量，但是到目前为止还没有垄断应用出现，这主要是因为目前市场上的类似应用做的都还不够好，比如师兄帮帮、百度知道等等，要么就是应用使用体验很差（师兄帮帮外观难看，优化较差，容易出现卡顿）；要么就是赚取的赏金金额太少了，得不偿失（比如百度知道，自己回答了整整一天的问题，可能受益就只有几角钱，并且几角钱还无法提现）。

总之这个领域还有很大的提升改进空间，我们的应用还有极大的潜在市场，如果我们能吸取已有的同类应用的经验，并解决它们存在的问题，抓住用户的关键痛点（核心需求即挣闲钱），做出一款美观、简洁好用、能够充分利用闲时挣钱、提现简单的应用，那么就有机会获得成功。

关于这部分的更多内容见[需求规格说明书](https://sysuswsad.github.io/mission_craft/SRS.html)

### 实现技术

- 使用web形式实现服务提供
- 前端框架使用vue，后端使用flask，测试技术使用pytest

### 产品功能

- 用户数据库系统：
  - 登陆注册功能：用户通过教育邮箱&手机进行验证码方式验证注册，使用用户名&密码进行登陆，注册时应提供真实学号、姓名、年龄、性别、年级、专业等信息，除此之外用户可以添加昵称、头像、等信息
  - 用户可以选择自己想要的兴趣组标签（与推送功能相关，是否实现、如何实现还待定）
  - 机构注册、以及相关的真实性验证（是不是我自己理解错了，老师网页上给出的机构真实性是什么意思）

- 应用功能
  - 机构组织问卷调查：问卷发布者具有选项，比如发布对象（年龄性别等限制）
  - 其他功能（备选）：取快递，租赁任务（由需要用品的人发出任务，拥有资源的人接任务，用品可以包括书、运动用品），陪玩，学习辅导（需要补习的同学发出任务，学霸接任务），求夸，代购，线上解题（按照采纳情况决定钱币分配），投诉功能（接受任务方投诉、运维人员审核）

- 产品机制：
  - 闲钱币达到一定数量才能够按比例提现（是否收手续费待定）
  - 发布任务需要收取手续费
  - 先扣取发布者的钱币，接任务方确认之后任务不可再次被接，发布者确认完成后将钱币划分到接收方账户
  - 信誉积分机制（通过信誉分和任务金额），经验累计机制

### 任务看板更新（第一次会议）

- Todo：搭建项目环境 ---- 全员
- Done：
  - 初步需求分析确定
    - 问卷调查 ---- 欧穗新
    - 竞品分析 ---- 彭靖寒
- In progress：
  - 后端框架flask学习 ---- 彭靖寒、欧穗新 
  - 前端框架vue学习 ---- 欧阳梓轩、彭伟林、彭流生
  - 产品经理 ---- 彭靖寒
  - 软件测试知识学习 ---- 潘鉴
  - 项目经理 ---- 欧穗新

<br>



## 第二次会议 2019-05-06（第一次迭代）

### 会议人员

全员参与

### 会议内容

- [系统设计讨论](#系统设计)
- [编码内容确定](#前后端编码内容)
- [单元测试](#后端单元测试)
- [阶段分工](#任务看板更新（第二次会议）)

### 系统设计

初次迭代决定先完成用户系统、任务系统（先完成问卷任务和快递代取任务，更多任务由后续迭代补充）

据此全员讨论接口设计，初步确定接口如下：

- 用户接口
  - 获取邮箱验证码：/code/，method=post
  - 用户注册：/user/，method=post
  - 用户登录：/token/，method=post
  - 得到个人信息：/user/，method=get
  - 修改个人信息：/user/，method=put
  - 修改密码：/password/，method=post
  - 上传头像：/avatar/，method=post
  - 得到头像：/avatar/，method=get
- 任务接口
  - 得到任务信息：/mission/，method=get
  - 发布任务：/mission/，method=post
  - 取消任务：/mission/，method=put
- 订单接口
  - 查询个人订单：/order/，method=get
  - 创建个人订单：/order/，method=post
  - 确认个人订单：/order/，method=put

详情总结到[api文档](https://sysuswsad.github.io/mission_craft/api.html)

### 前后端编码内容

- 用户系统编写
  - 用户注册：首先输入邮箱获取邮箱验证码，并输入用户名，学号，密码，所得验证码进行注册
  - 用户登录：输入用户名或者邮箱，密码进行登录，登录后获得token信息，此后每次请求都使用token进行身份确认
  - 用户信息页面：用户可以查看、修改自己的基本信息、头像、密码
- 任务系统之问卷（用户在登录之后才能使用该功能）
  - 问卷创建：通过页面按钮设计若干问题，点击提交后，成功创建问卷，在任务广场可以看到该问卷
  - 问卷查看：
    - 对于接收人，在任务广场可以查看正在进行问卷的任务，并且可以通过点击按钮，参加问卷填写
    - 对于发布人，可以在任务广场/我的任务中查看问卷信息、答案统计信息
  - 问卷提交：点击参与问卷填写之后，用户需要做完全部题目后才能够点击提交按钮，提交答案并获得奖励，关闭页面或者放弃填写则视为弃权
  - 问卷暂停：发布人收到足够多的调研答案之后，可以停止该任务，从而取回剩余的赏金

- 任务系统之快递代取任务（用户在登录之后才能使用该功能）
  - 任务创建：用户可以通过主页按钮创建快递代取任务，点击提交后，成功创建任务，在任务广场可以看到该任务信息
  - 任务查看：
    - 对于接收人在任务广场可以查看正在进行的快递代取任务，并且可以通过点击按钮，领取任务
    - 对于发布人，可以在任务广场/我的任务中查看任务信息
  - 任务完成确认：领取任务后，接收人可以根据联系方式与发布人进行联系，完成任务后由发布人确认完成，接收人获得奖励
  - 任务取消：
    - 接收人可以在一定时限内放弃任务，无法获得赏金
    - 如果没有人接单，发布人可以终止任务，取回赏金

### 后端单元测试

- 使用工具：pytest

- 用户系统测试：
  - 编写用例，分别使用带有错误、正确的request对验证码获取、登录、注册、信息获取、信息修改等api进行测试，以检测其对错误输入的处理能力，和对于正确输入的正确回应
  - 使用assert语句检测返回response中的信息是否符合预期
- 任务系统测试：
  - 编写用例，分别使用带有错误、正确的request对任务信息获取、任务创建、任务终止等api进行测试，以检测其对错误输入的处理能力，和对于正确输入的正确回应
  - 使用assert语句检测返回response中的信息是否符合预期

### 任务看板更新（第二次会议）

- Todo：后端单元测试 ---- 潘鉴
- Done：api设计（系统设计）---- 全员
- In progress：
  - 后端用户系统、任务系统编写 ---- 欧穗新、潘鉴
  - 前端用户系统、任务系统页面编写 ---- 欧阳梓轩、彭伟林、彭流生
  - 前端通知页面编写 ---- 彭流生
  - 后端单元测试用例设计 ---- 潘鉴



<br>

## 第三次会议 2019-05-28（第二次迭代）

### 会议人员

全员参与

### 会议内容

- [集成测试](#前后端集成测试)
- [系统改进](#现有系统改进)
- [通知系统设计](#通知系统讨论)
- [货币系统设计](#货币系统讨论)
- [阶段分工](#任务看板更新（第三次会议）)

### 前后端集成测试

- 将前一阶段完成单元测试的用户系统、任务系统进行集成
  - 前端页面按钮绑定api请求，将用户输入、token信息一并打包入request发送给后端
  - 后端接受request，处理后将结果/报错信息打包入response并返回
  - 前段获得response后解包，并执行相应操作（页面跳转/错误信息提示等等）

### 现有系统改进

- 代码改进
  - 为符合restful api风格要求，为所有的api接口添加'/api'前缀
  - 为符合restful api风格要求，服务端不使用session维持用户登录状态，而是在每次请求时用户token验证其身份

- 功能增加

  - 添加邮箱真实性检测的功能

  - 添加通知系统，为用户生成通知，详情见[通知系统讨论](#通知系统讨论)

  - 添加货币系统，详情见[货币系统讨论](#货币系统讨论)

### 通知系统讨论

- 通知方式：
  - 用户登录时通知其未读消息条数（仅用数字表示）
  - 用户点击阅读未读消息时返回具体通知，通知产生情形如下文

- 问卷通知：
  - 问卷填完时通知发布人
  - 问卷任务到了截止时间通知发布人

- 其他任务通知：

  - 发布人：有人接单时通知发布人；

  - 接收人：发布人确定订单完成时通知接单人(通知其查看赏金获取情况，赏金通过系统自动划扣)；

  - 到了任务截止时间，双方仍未确认任务完成，则通知双方任务未完成
  - 接受者在一定时限内放弃任务时，通知发布者

### 货币系统讨论

- 货币产生：
  - 用户注册赠送一定虚拟货币
- 货币使用
  - 创建问卷/快递代取等任务，创建任务时，首先判断该用户余额是否超过'单份赏金*份数'，如果是，才允许创建
- 货币赚取
  - 接受问卷/快递代取任务
  - 问卷任务填写完成后点击提交即可获取单份赏金
  - 快递代取任务需要发布人确认收到快递之后，接收任务者才能够获得赏金

- 货币充值&提现
  - 该功能需要申请商户资格，后续完成/使用其他方案替代

### 任务看板更新（第三次会议）

- Todo：
  - 后端通知系统编写 ---- 彭靖寒
  - 后端货币系统编写 ---- 欧穗新 
  - 前端通知页面编写 ---- 彭流生
  - 通知系统、货币系统用例编写&测试 ---- 潘鉴

- Done：新增api设计（完善api文档）---- 全员
- In progress：
  - 前后端链接代码编写&集成测试 ---- 欧阳梓轩&彭伟林
>>>>>>> 0977fb881b60a6651486c426980bc41f29abdcb8
